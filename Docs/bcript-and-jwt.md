# bcript 와 jwt

### 비밀번호? 비밀번호를 암호화한다는 것, bcript

비밀번호는 유저의 개인정보를 지키기 위한 최전방이라고 볼 수 있다. 가장 복잡하게 비밀번호를 만드는 것이 자신의 정보를 지키기 위한 가장 좋은 방법이다. 하지만 비밀번호를 너무 복잡하게 만들어버리면 정작 해당 아이디를 보유중인 유저가 자신의 비밀번호를 기억하지 못하는 사태가 벌어진다. 이것은 흔히 발생하는 일이고, 이를 비밀번호 딜레마라 부른다. 갓애플은 회원가입을 할 때마다 복잡한 비밀번호를 추천해주고 자신들의 디바이스의 생체인증으로 비밀번호를 기억하지 않아도 됩니다! 라는 기가 막힌 방법을 고안해냈는데 문제는 다른 곳에서는 내 아이폰에 들어가서 비밀번호가 뭐였는지 일일이 확인해야 한다는 것이다..

비밀번호가 충분히 복잡해도 시스템이 보안에 신경쓰지 않으면 문제가 발생할 것이다. 클라이언트에서 작성한 비밀번호를 백엔드에서 암호화해주어야 한다. 내가 알기로는 bcript 뿐만이 아니라 비밀번호를 암호화 해주는 모듈은 더 있는 것으로 알고 있다.

1. 신규 회원가입이나 비밀번호 변경시에 유저가 입력한 비밀번호가 디비에 저장이 되어야 회원인증이 가능하다.
2. 하지만 이것을 그대로 디비에 저장하게 되면 디비 관리자나 소유자가 사용자의 비밀번호를 알게 되는 문제가 발생한다.
3. 디비 관리자나 소유자가 신뢰할 수 있는 인물이어도 이것은 명박한 보안의 헛점이다.
4. bcript 는 salt를 이용하여 유저의 비밀번호를 해시값으로 변환해준다.
5. 해시값으로 변환된 값은 복호화하는 것이 안된다.
6. 비교를 위해서는 암호화된 값으로 비교해야 한다.

### 로그인

유저가 로그인하려면 디비에 있는 이메일 비밀번호를 클라이언트에서 요청한 값과 일치해야한다. 일치하다면 서버는 user id와 secret token을 결합한 형태로 토큰을 저장하고 클라이언트에게 토큰을 쿠키 형태로 전달한다. 토큰이 필요한 이유는 로그인 상태를 확인하기 위해서이다. 특정 페이지는 로그인이 필요할 수 있는데 이때마다 클라이언트는 자신의 토큰을 서버에게 확인받는다.

### JWT?
